## ATDD

- ATDD=`Acceptance Test Driven Development`
- ATDD は、受け入れテストを最初にテストケースとして書いておき、内部プロセスで TDD を行うアプローチ

https://www.qbook.jp/column/1463.html

## Gherkin(ガーキン)記法

- テスト記述の記法
- Gherkin 記法とはシナリオ記述フォーマットの 1 つで、`こういう状態のとき、こういう動作を行えば、こうなることが期待される`という形式でシナリオを記述する
- Jestでspecのテストを書くときに参考になりそう

参考: [Gherkin 記法はじめました](https://zenn.dev/jyoppomu/articles/4bd0ddfc75545b)

## jest.fn()について

```ts
reflector.get = jest.fn().mockReturnValue(["hoge"]);
```

- Jest テストフレームワークで使用される`モック関数を作成`するためのメソッド
- 関数の呼び出しを監視したり、戻り値を指定したり、特定の実装をモックしたりすることができる

## NestJS には複数のデコレータをまとめる為のヘルパーメソッドが用意されている

なるほど。。

参考: https://zenn.dev/kisihara_c/books/nest-officialdoc-jp/viewer/overview-customroutedecorators

```ts
import { applyDecorators } from "@nestjs/common";

export function Auth(...roles: Role[]) {
  return applyDecorators(
    SetMetadata("roles", roles),
    UseGuards(AuthGuard, RolesGuard),
    ApiBearerAuth(),
    ApiUnauthorizedResponse({ description: "Unauthorized" }),
  );
}
```
