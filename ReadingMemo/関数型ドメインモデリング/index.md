---
marp: true
theme: gaia
class: invert
size: 16:9
style: |
  img[alt='center'] {
      display: block;
      margin: 0 auto;
  }
  strong,b {
    color: red;
  }
  h2 strong,b {
    color: red;
  }
---

<!--
_class:
  - lead
  - invert
_footer: ""
-->

# 関数型ドメインモデリング

## 〜ドメイン駆動設計とF#でソフトウェアの複雑さに立ち向かおう〜

---

<!--
_class:
  - lead
  - invert
_footer: ""
-->

# 第1部: ドメインの理解


---

<!--
_class:
  - lead
  - invert
_footer: ""
-->

# 第1章: ドメイン駆動設計の紹介

---

## ソフトウェア開発者の仕事

- ❌ コードを書く
- ⭕️ ソフトウェアを使って問題を解決する

---

## 問題を解決するために必要なこと

- 問題を正しく「理解」する

---

<!--
_class:
  - lead
  - invert
_footer: ""
-->

## 問題を理解するために必要なこと

---

## ドメインエキスパート（問題を最もよく理解している人）と密接にコミュニケーションを取る

- ただ、これだけだとコードに対する「翻訳」作業が発生する
- 認識のズレにつながる...

---

##  ドメインエキスパート・開発者・コードが同じメンタルモデルを共有する

- メンタルモデルをコードに直接反映する
- ドメインエキスパートからコードへの翻訳作業が発生しない
- 認識のズレも生まれにくい
  - ドメイン駆動設計が目指す状態！

---

## 共通のモデルを作成するガイドライン

- データ構造ではなく、ビジネスイベント（`ドメインイベント`）やワークフローに焦点を当てる
- ドメインをより小さなサブドメインに分割する
- 各サブドメインのモデルを解決空間に作成する
- プロジェクトに関わる全ての人が共有し、コードのあらゆる場所で使用される共通言語（`ユビキタス言語`）を開発する

---

## データ構造ではなく、ビジネスイベント（ドメインイベント）やワークフローに焦点を当てる

- ドメインイベントはモデル化したいビジネスプロセスの「出発点」なので
- ドメインの探索には`イベントストリーミング`が有効

---

## ドメインをより小さなサブドメインに分割する

- 問題を小さくする

---

## 各サブドメインのモデルを解決空間に作成する

- 「問題空間（現実世界）」と「解決空間（ドメインモデル）」を区別
- ドメインの必要な部分だけを取り出して解決空間にマッピング
- 解決空間では、問題空間のドメインとサブドメインがDDD用語で`境界づけられたコンテキスト`と呼ばれるものにマッピングされる
- コンテキスト間の相互作用・全体像を把握するため`コンテキストマップ`を作成する

<!-- 「境界」を明確にしたコンテキストを定義することで、疎結合なシステムを構築できる -->

---

## プロジェクトに関わる全ての人が共有し、コードのあらゆる場所で使用される共通言語（ユビキタス言語）を開発する

- チームの全員が共有する概念と語彙のセット
- ビジネスドメインの共有メンタルモデルを定義する言語
- 全員がドメインに対して共通の理解を持つために必要

---

<!--
_class:
  - lead
  - invert
_footer: ""
-->

# 第2章: ドメインの理解

---

## ドメインエキスパートへのインタビュー

- 自分のメンタルモデルをドメインに押し付けない
- 勝手な先入観を持たないことが重要
- 非機能要件についてもヒアリング

---

<!--
backgroundColor: black
footer: ""
-->
