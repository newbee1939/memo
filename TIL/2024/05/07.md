## どのようにして Findy Team+フロントエンドチームは高速な開発をしているか 〜開発フロー編〜

Findy Team+のフロントエンドチームの開発環境が共有されている。

`Nx`は内部に複数のプロジェクトを持つことができ、且つ、それらの依存関係を自動で解析する。 この「プロジェクトの依存関係」をもとに、プルリクエストでの「変更されたプロジェクト」と、その「変更部分が依存しているプロジェクト」のみのテストを実行する手段を提供している。

大きいプロジェクトになるとCI/CDの速度が遅くなってしまいがちですが、Nxを使用することで生産性が向上している。
他にも同様の機能を提供している管理ツールはあるがNxを検討している人は参考になるかもしれない。

https://tech.findy.co.jp/entry/2024/04/01/080000

## 技術記事

- 次世代 Web 認証「パスキー」
  - https://speakerdeck.com/nkzn/mo-zatsudan-passkey
  - 公開鍵の仕組みを使った認証
- AI 時代にこそ TDD だと思う話
  - https://zenn.dev/akfm/articles/tdd-with-copilot
  - TDD と GitHub Copilot は相性がいい
  - AI ツールは具体的な問題点解決が得意なので、TDD が生み出す小さく明確な問題は GitHub Copilot の得意分野
  - TODO リストやテストコードはプロダクションコードや次のテストコードのヒントになる
  - これらのヒントにより、GitHub Copilot の提案は TDD のサイクルごとにどんどん精度が高くなっていく
- GitHub、「Copilot Workspace」テクニカルプレビューを開始。ほとんど全ての開発工程を AI で自動化
  - https://www.publickey1.jp/blog/24/githubcopilot_workspaceai.html
  - Copilot Workspace は、自然言語で書かれた Issue（課題）を基に、Copilot が仕様案と実装計画を示し、コーディングや既存のコードの修正を行い、ビルドをしてエラーがあればデバッグも行う
  - プログラミングのほとんど全ての工程を Copilot が自動的に実行してくれる
  - 人間は各工程で Copilot から示される内容を必要に応じて修正するか、そのまま見守ることになる
    - やばいな。。
- React19
  - https://react.dev/blog/2024/04/25/react-19
  - うひょさんに聞く！React 19 アップデートの勘所
    - https://findy.connpass.com/event/318090/
- Deno first でやっていく
  - https://zenn.dev/mizchi/articles/deno-first-choice
  - なぜ Deno を使いたいか
    - Node は新しいプロジェクトを一式整えるための手間が非常に重い
- 話題のローコードツール「Dify」で生成 AI アプリを作ってみよう！
  - https://qiita.com/minorun365/items/4c5dba1de7977c386249
- 官製デスマーチがやってくる、全国の自治体やベンダーが証言するシステム移行の実態
  - https://xtech.nikkei.com/atcl/nxt/column/18/02820/042400001/
- Cloud Run のコールドスタートについて整理してみた
  - https://blog.g-gen.co.jp/entry/cloud-run-cold-start-explained
    - Cloud Runの起動速度を上げるためのコツ
- Google Cloud、AI ベースの DB アシスタント「Gemini in Databases」を発表　専門知識不要で DB 開発、管理が可能に
  - https://atmarkit.itmedia.co.jp/ait/articles/2404/18/news058.html

## 積極的な技術選定と消極的な技術選定

参考: https://blog.uhy.ooo/entry/2023-02-13/technology-selection/

- 技術選定には以下の 2 種類が存在する
  - 積極的な技術選定
    - 選定される（あるいはされない）技術そのものが原因となる意思決定です。
  - 消極的な意思決定
    - 技術そのもの以外に原因がある意思決定です
    - e.g. すでにチームメンバーが習熟している言語を用いる
- 「積極的な技術選定」と「消極的な技術選定」は異なるレイヤーの話
- 具体的には、「組織のこと」など技術以外の要因を考える際には、その前提条件として技術に関する考察は済んでいなければいけない
- 筆者が考える`望ましい技術選定`というのは、`まず技術のみを勘案して理想的な技術選定（積極性 100%）を考え、その後に現実を見て、妥協として消極的な要素を混ぜ込んでいく`というもの
- 一部の技術選定記事に対する違和感
  - 技術選定と銘打っているからには、往々にして候補に挙がった技術の比較が「メリデメ」などの形で挙げられる
  - そして、記事によっては、このメリデメに「積極的な視点」と「消極的な視点」が混ざっている
  - 筆者はこれが気に入らない
  - 技術に対して失礼

## SQL 滅ぶべし

`dbplyr`を使ってデータ取得ができるという話。
そこまで複雑な SQL を書くことも無いからなあ。。
頭の片隅には置いておく。

参考: https://www.docswell.com/s/hoxo-m_inc/Z4Q8NL-2024-05-06-203800#p1

## クエリのパフォーマンスチューニングの第一歩。実行計画や統計情報について入門する

参考: https://zenn.dev/mesi/articles/23808becb50b75

- 以下の流れ
  - クエリ -> パーサ -> オプティマイザ -> テーブル
- パーサ
  - 文法のチェックなど
  - エラーがない場合は、クエリは`抽象構文木`というデータ構造に変換される
  - これにより、データベースはクエリをより効率的に解析し、次の処理ステップに進めることができる
- オプティマイザ
  - クエリをできるだけ効率的に実行するための最適な実行計画を生成する
  - 具体的には、クエリが要求するデータの取得方法を決定し、複数の実行計画の中からコスト（リソース使用量、時間等）が最も少ない計画を選択
  - 「実行計画」には、クエリを実行するための具体的な手順が詳述されており、どのテーブルからデータを取得し、どの順序でオペレーションを行うかが含まれている
- カタログマネージャー
  - 最適な実行計画を立てるためには、正確な「統計情報」が不可欠
  - この情報は「カタログマネージャー」によって管理され、データベース内の各テーブルの行数や列の分布、インデックスの詳細などを含む
- 実行計画を見る
  - MySQL で実行計画を確認するには、EXPLAIN や EXPLAIN ANALYZE コマンドを使う

### EXPLAIN のポイント

クエリパフォーマンスを簡単に見るうえでは、特に`possible_keys`, `key`, `rows`に注目すると良い。

パフォーマンスの悪いクエリがあったときには、まず実行計画を見てインデックスが使われているのかを確認する。

## Cloud Run のコールドスタートについて整理してみた

参考: https://blog.g-gen.co.jp/entry/cloud-run-cold-start-explained

- コールドスタートとは
  - `新しいインスタンスが起動する際に実行される 初期化プロセスに伴う遅延` のこと
  - Cloud Run が ゼロからスケーリング (スケールアウト) する際や、リクエストの増加によりコンテナインスタンスがスケールアウトする際に発生する
- Cloud Run のスケールイン/アウト
  - Cloud Run はリクエスト負荷に応じて自動的に スケールイン (インスタンスの削除) / スケールアウト (インスタンスの追加)をする
  - ただし、すべてのリクエストを処理した場合でもすべてのインスタンスをすぐにシャットダウンすることはしない
  - これはコールドスタートの影響を最小限に抑えるための設計思想で、一部のインスタンスを最大で 15 分間 アイドル状態で確保することで、その後のリクエストに最小限の遅延で応答きるよう考慮されている
- コールドスタートの対策（Cloud Runの起動速度・`応答速度`を上げるための施策）
  - `起動時の CPU ブースト`
    - インスタンスの起動時間中とインスタンス開始後の 10 秒間に追加の CPU を提供す
    - コールドスタートによる遅延軽減に有効
  - `最小インスタンス`
    - Cloud Run は、リクエストを処理していないインスタンス（アイドル状態）を最大 15 分 経過後に削除する
    - 最小インスタンス を 1 以上 の数で設定するとアイドル状態のインスタンスを常に確保してゼロスケール状態になるのを防ぐため、コールドスタートの改善が見込める
  - `実行環境の選択`
    - Cloud Run の実行環境には 第 1 世代 と 第 2 世代 があり、前者は後者に比べ短い時間でコールドスタートで収束する
    - 第 1 世代で問題ないユースケースではコールドスタートによる遅延軽減が見込める
