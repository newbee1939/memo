# CHAPTER1: DNSが作られた背景

- IPは人間が覚えにくい..
- ホストのIPが変更された場合に困る..
- これらを解消するために、IPに人間が覚えやすい名前を付けて、接続の度に名前と対応している（現在使っている）IPを調べることにした
- そこで最初に採用されたのが、SRI-NICという組織がHOSTSファイルを一元管理する仕組み
- しかし、ホストの数が増えるに従って、一元管理には限界が出てきた..
- そこで採用されたのが`階層化`と`委任`という`分散管理`の仕組み
    - 階層化と委任については「会社」をイメージすると分かりやすい
- `ツリー構造(木構造)`を採用することで名前を一意にすることができる

## ドメイン名について

- ドメイン名は「.（ドット）」で繋げた形で構成される
- それぞれの文字列を`ラベル`と言う
- ドメイン名の最後にもドットが付いているが、通常は省略される
- ドメイン名の最後に付けられた（省略された）ドットは階層構造の頂点となる`ルート`を表しており、ルートを起点として右側から順に
    - TLD(Top Level Domain)
        - e.g. .jp, .com
    - 2LD
    - 3LD

### サブドメイン

- ある名前空間の範囲が別の名前空間の範囲に含まれている場合、名前空間1は名前空間2の`サブドメイン`と呼ばれる
    - e.g. ルートの名前空間を分割してできたドメインは、全てルートのサブドメインとなる

## DNS

P20あたり

- DNS(Domain Name System)
- `階層化と委任による分散管理の仕組みを採用`している
- `名前解決`（ドメイン名に対応するIPアドレスを探し出す）を行う
- DNSの基本
    - `それぞれの階層の管理者から必要な情報を入手してドメイン名の階層構造を辿り、最終的な答えであるIPアドレスを得る`
        - 参考: https://jprs.jp/related-info/guide/topics-column/no10.html
    - DNSでは委任によって管理された範囲を`ゾーン`と呼ぶ
    - また、委任元と委任先は`親`と`子`の関係になる
    - それぞれのゾーンの管理者は`ネームサーバー`というサーバーで情報を管理する
    - ネームサーバーでは、以下の2種類の情報が管理される
        - `そのゾーンに存在するホストのドメイン名とIPアドレス`
        - `委任の情報`
            - 委任先（子）のネームサーバーの情報で、委任元（親）のネームサーバーが管理する
            - `委任先はこのネームサーバーです`という情報
            - 委任先を案内する
    - このように委任先をルートから順に辿って、最終的にexample.jpのIPアドレスを管理するネームサーバーにたどり着くという仕組みが、DNSにおける名前解決の基本

### DNSとレジストリの関係

- ドメイン名とDNSによる階層構造を導入した場合、それぞれの階層を管理する管理者（`レジストリ`）が必要になる
- それぞれのレジストリには以下の2つの責任が発生する
    1. 自分が任された（委任された）ゾーンを管理する
    2. ゾーンを委任した場合、そのゾーンを委任した人（委任先）が誰かを管理する

# CHAPTER2: ドメイン名の登録管理の仕組みと管理体制

- インターネット上の番号や名前の割り当て・登録を担当する組織のことを`レジストリ`と言う

## レジストリの役割

- ドメイン名を使えるようにするには、レジストリに対して「このドメイン名を使いたい」という登録申請をする
- 申請を受けたレジストリは、その内容が登録要件を満たしているかを審査・確認し、レジストリが管理するデータベースにん登録する
    - 申請者がそのドメイン名を使う権利を得ることになる
- 登録したドメイン名には有効期限が設定され、その`ライフサイクル`に則って運用する必要がある
- レジストリの主な役割は以下の6つ
    1. レジストリデータベースの運用管理
    2. ポリシーに基づいた登録規則の策定
    3. 登録申請の受け付け
    4. Whoisサービス（自身の管理するドメイン名の情報）の提供
    5. ネームサーバーの運用
    6. 情報発信・教育啓蒙活動

## ドメイン名のライフサイクル

- ドメイン名の期限が切れるタイミングを見計らってドメイン名を取得する行為を`ドロップキャッチ`と言う

# Cloud DNSを使ってDNS登録してみた

# 参考

- DNSがよく分かる教科書

# TODO

- 記事にまとめて複数媒体でアウトプット
    - 英語でも
- LT資料にしてYouTubeに上げる
    - 音声変換など？
- LT発表する