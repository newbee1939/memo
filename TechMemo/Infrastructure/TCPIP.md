## TCP/IPについて

TODO: 最終的に記事にまとめたい

- 現在、ネットワーク通信のプロトコル（手段）で最もよく使われているのが`TCP/IP`

## 第1章: ネットワーク基礎知識

### コンピュータネットワーク登場の背景

- 当初はコンピュータ単体で使用する`スタンドアロン`と呼ばれる方式であった
- しかし、それだと限界が出てきたため、`LAN(Local Area Network)`や`WAN(Wide Area Network)`等のコンピュータネットワークが登場してきた

### コンピュータとネットワーク発展の7つの段階

1. バッチ処理
2. タイムシェアリングシステム（TSS）
    - 一台のコンピュータに複数の端末を接続して操作する
    - インタラクティブ（対話的）な操作が可能になったのは大きい変化
3. コンピュータ間通信
4. コンピュータネットワークの登場
5. インターネットの普及
6. インターネット技術中心の時代へ
    - ありとあらゆるものがインターネットに繋がる
    - より`安全に`接続することが求められるように

### プロトコルとは？

- `プロトコル`=コンピュータとコンピュータがネットワークを利用して通信するために決められた`約束ごと`
- ex. プロトコルを会話で考える
    - 日本語や英語を「プロトコル」
    - 言語によってコミュニケーションをすることを「通信」
    - 話の内容を「データ」

### パケット交換でのプロトコル

- パケット交換
    - 大きなデータをパケット（Packet）と呼ばれる単位に分割して送信する方法
- 一つの大きなデータを分割し、荷札（ヘッダ）を付けて送り出す -> ヘッダを除き元の形に再構築する

### プロトコルの標準化

- プロトコルがバラバラだと、異なる会社のコンピュータ間で通信ができない
    - ものすごく不便..
- そこで、`ISO(国際標準化機構)`は`OSI`と呼ばれる通信体系を標準化した
- ただ、現在、OSIの定めるプロトコルは普及していない
- しかし、OSIプロトコルを設計する際の指針として提唱された`OSI参照モデル`はネットワークプロトコルを考えるときによく引き合いに出される
- TCP/IPはインターネット上の標準であり、デファクトスタンダードとして世界中でもっとも広く使われている通信プロトコル
- TCP/IPは`ISO`の国際標準ではない
- TCP/IPは`IETF`で提案や標準化作業が行われているプロトコル

### プロトコルの階層化とOSI参照モデル

P25

- OSI参照モデル
    - 通信に必要な機能を7つの階層に分け、機能を分割することで、複雑になりがちなネットワークプロトコルを単純化するためのモデル
    - 各階層は、下位層から特定のサービスを受け、上位層に特定のサービスを提供する
    - 上位層と下位層の間でサービスのやり取りをするときの約束事を`インターフェース`と呼ぶ
    - 通信相手の同じ階層とやり取りをするときの約束事を`プロトコル`と呼ぶ
    - 理想的には第1層から第7層までの7つのモジュールを作ってそれぞれをつなぎ合わせれば、通信が可能になる
    - OSI参照モデルは、プロトコルの設計や勉強をするときの`ガイドライン`
    - 多くの通信プロトコルは、このOSI参照モデルの7階層のどれかの層に当てはめて考えることができる
- OSI参照モデルは以下の通り
    - 7: アプリケーション層
        - 特定のアプリケーションに特化したプロトコル
            - ex. 電子メール用プロトコル, ファイル転送用プロトコル
    - 6: プレゼンテーション層
        - 機器特有のデータフォーマットをネットワーク共通のデータフォーマットに変換
    - 5: セッション層
        - 通信の管理。`コネクション（データが流れる論理的な通信路）`の確立/切断
        - 両方のホストのセッション層間で、どのようにデータを送れば効率よくやりとりができるか、データの送信方法をどうするか、といった打ち合わせが行われる
        - `実際にデータを転送する機能は持っていない`
        - トランスポート層以下の層の管理
    - 4: トランスポート層
        - コンピュータ間のデータ転送の管理
        - データ転送の信頼性を提供する
            - データを確実に相手に届ける役目
        - コネクションの確立（通信路を確保し、データを送信する準備をする）や切断の処理を行い、ホスト間の論理的な通信手段を作るのがトランスポート層の役割
    - 3: ネットワーク層
        - `実際にデータを届ける`
        - アドレスの管理と経路の選択
            - どの経路を通って宛先まで届ける？
    - 2: データリンク層
        - 直接接続された機器間でのデータフレームの識別と転送
    - 1: 物理層
        - 0と1を電圧の高低や光の点滅に変換する
        - コネクタやケーブルの形状の規定

### 通信方式の種類

- ネットワークでのデータの配送
    - コネクション型
        - 通信をする前にコネクションというロープを張る
            - 回線の接続
        - コネクションを張れない場合はデータを送信できない
        - 相手が通信不可能な場合に無駄にデータを送ることはなくなる
    - コネクションレス型
        - 相手がいるかどうかを確認せず、送信者の都合で突然データを送りつける
        - パケット交換

### 回線交換からパケット交換へ

- 現在のネットワークの通信方式
    - 回線交換
    - パケット交換
        - TCP/IPはこちらを採用
        - 通信しようとしているデータを細かい小包に分ける
        - 各コンピュータが一斉にデータを送受信できるようになる
        - パケット交換では`ルーター（パケット交換機）`によって通信回線が結ばれる
            - パケットは`バッファ`と呼ばれるルーターの記憶領域に一時的に格納される

### 通信相手の数による通信方式の分類

- ユニキャスト
    - 1対1
- ブロードキャスト
    - 全てのコンピュータ
    - ex. テレビ放送
- マルチキャスト
    - 特定グループ
    - ex. ビデオ会議
- エニーキャスト
    - 特定のグループのどれか

### アドレスとは

- 通信の送信元と送信先はアドレスによって特定される
    - e.g. 電話の場合は電話番号がアドレス、手紙の場合は住所がアドレス
- アドレスは唯一性を持っている必要がある

#### アドレスの階層性

## 参考書籍

- マスタリングTCP/IP